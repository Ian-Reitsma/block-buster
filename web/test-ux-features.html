<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UX Features Test - Block Buster</title>
  <link rel="stylesheet" href="src/styles.css">
  <style>
    body {
      padding: var(--space-8);
    }
    .test-section {
      margin-bottom: var(--space-8);
    }
    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-4);
      margin-bottom: var(--space-6);
    }
    .test-button {
      padding: var(--space-3) var(--space-4);
      background: var(--accent);
      color: var(--bg);
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-weight: 600;
      transition: all var(--transition-fast);
    }
    .test-button:hover {
      background: var(--accent-bright);
      transform: translateY(-2px);
    }
  </style>
</head>
<body>
  <div class="content">
    <div class="hero">
      <h1>ðŸ§ª UX Features Test</h1>
      <p>Interactive testing page for all new UX improvements</p>
    </div>

    <!-- Loading Skeletons Test -->
    <div class="test-section">
      <h2>1. Loading Skeletons</h2>
      <p class="muted mb-4">Shimmer animations while data loads</p>
      
      <div class="metrics-hero-grid mb-4">
        <div class="card-metric-hero loading">
          <h3>TPS</h3>
          <div class="value">â€”</div>
          <div class="label">Loading...</div>
        </div>
        <div class="card-metric-hero loading">
          <h3>Block Height</h3>
          <div class="value">â€”</div>
          <div class="label">Loading...</div>
        </div>
      </div>

      <button class="test-button" onclick="loadSkeletonData()">
        Simulate Data Load
      </button>
    </div>

    <!-- Tooltips Test -->
    <div class="test-section">
      <h2>2. Tooltips</h2>
      <p class="muted mb-4">Hover over cards to see explanatory tooltips</p>
      
      <div class="metrics-primary-grid">
        <div class="card-metric-primary" data-tooltip="This tooltip explains the metric in detail">
          <h3>Network Fees</h3>
          <div class="value">42 BLOCK</div>
        </div>
        <div class="card-metric-primary" data-tooltip="Average peer-to-peer latency across the network">
          <h3>P2P Latency</h3>
          <div class="value">18 ms</div>
        </div>
        <div class="card-metric-primary" data-tooltip="Estimated tokens issued per hour based on current TPS">
          <h3>Hourly Issuance</h3>
          <div class="value">4,440 BLOCK</div>
        </div>
      </div>
    </div>

    <!-- Connection Status Test -->
    <div class="test-section">
      <h2>3. Connection Status Indicator</h2>
      <p class="muted mb-4">Real-time connection health indicator</p>
      
      <div class="row mb-4" style="gap: var(--space-4);">
        <div class="connection-status connected">
          <span class="connection-status-dot"></span>
          <span class="connection-status-text">Connected</span>
          <span class="connection-status-time">2s ago</span>
        </div>
        <div class="connection-status connecting">
          <span class="connection-status-dot"></span>
          <span class="connection-status-text">Connecting...</span>
        </div>
        <div class="connection-status disconnected">
          <span class="connection-status-dot"></span>
          <span class="connection-status-text">Disconnected</span>
        </div>
      </div>
    </div>

    <!-- Toast Notifications Test -->
    <div class="test-section">
      <h2>4. Toast Notifications</h2>
      <p class="muted mb-4">Beautiful notifications for user feedback</p>
      
      <div class="test-grid">
        <button class="test-button" onclick="showToast('success')">
          Show Success Toast
        </button>
        <button class="test-button" onclick="showToast('error')">
          Show Error Toast
        </button>
        <button class="test-button" onclick="showToast('warning')">
          Show Warning Toast
        </button>
        <button class="test-button" onclick="showToast('info')">
          Show Info Toast
        </button>
      </div>
    </div>

    <!-- What's New Modal Test -->
    <div class="test-section">
      <h2>5. "What's New" Modal</h2>
      <p class="muted mb-4">Release notes and feature announcements</p>
      
      <button class="test-button" onclick="window.showWhatsNew ? window.showWhatsNew() : alert('Modal will auto-show on first load. To test manually, run: window.showWhatsNew()')">
        Show What's New Modal
      </button>
    </div>

    <!-- Keyboard Shortcuts Test -->
    <div class="test-section">
      <h2>6. Keyboard Shortcuts</h2>
      <p class="muted mb-4">Complete keyboard navigation</p>
      
      <div class="card mb-4">
        <h3 class="mb-3">Try these shortcuts:</h3>
        <ul class="list">
          <li><kbd>?</kbd> - Show keyboard shortcuts guide</li>
          <li><kbd>1</kbd> / <kbd>2</kbd> / <kbd>3</kbd> - Navigate pages</li>
          <li><kbd>R</kbd> - Refresh page</li>
          <li><kbd>ESC</kbd> - Close modals</li>
        </ul>
      </div>
      
      <button class="test-button" onclick="window.showKeyboardShortcuts ? window.showKeyboardShortcuts() : alert('Press ? to show shortcuts, or run: window.showKeyboardShortcuts()')">
        Show Keyboard Shortcuts Guide
      </button>
    </div>

    <!-- Responsive Grid Test -->
    <div class="test-section">
      <h2>7. Responsive Grid System</h2>
      <p class="muted mb-4">Resize window to see responsive breakpoints</p>
      
      <div class="metrics-compact-grid">
        <div class="card-metric-compact">
          <h3>Metric 1</h3>
          <div class="value">100</div>
        </div>
        <div class="card-metric-compact">
          <h3>Metric 2</h3>
          <div class="value">200</div>
        </div>
        <div class="card-metric-compact">
          <h3>Metric 3</h3>
          <div class="value">300</div>
        </div>
        <div class="card-metric-compact">
          <h3>Metric 4</h3>
          <div class="value">400</div>
        </div>
        <div class="card-metric-compact">
          <h3>Metric 5</h3>
          <div class="value">500</div>
        </div>
        <div class="card-metric-compact">
          <h3>Metric 6</h3>
          <div class="value">600</div>
        </div>
      </div>
    </div>

    <!-- Testing Results -->
    <div class="test-section">
      <div class="card" style="background: var(--panel-elevated); border-color: var(--accent-dim);">
        <h2 style="color: var(--accent);">âœ… Testing Checklist</h2>
        <ul class="list" style="margin-top: var(--space-4);">
          <li>âœ… Loading skeletons animate smoothly</li>
          <li>âœ… Tooltips appear on hover</li>
          <li>âœ… Connection status indicators work</li>
          <li>âœ… Toast notifications display correctly</li>
          <li>âœ… "What's New" modal can be triggered</li>
          <li>âœ… Keyboard shortcuts are functional</li>
          <li>âœ… Responsive grid adapts to screen size</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Toast Container (will be created by toast.js in production) -->
  <div id="toast-container" class="toast-container"></div>

  <script type="module">
    // Simulate loading skeleton removal
    window.loadSkeletonData = () => {
      const skeletons = document.querySelectorAll('.loading');
      skeletons.forEach(skeleton => {
        skeleton.classList.remove('loading');
        const valueEl = skeleton.querySelector('.value');
        const labelEl = skeleton.querySelector('.label');
        if (valueEl && valueEl.textContent === 'â€”') {
          valueEl.textContent = Math.floor(Math.random() * 10000);
        }
        if (labelEl && labelEl.textContent === 'Loading...') {
          labelEl.textContent = 'Data loaded!';
        }
      });
    };

    // Simulate toast notifications (simplified version)
    window.showToast = (type) => {
      const container = document.getElementById('toast-container');
      if (!container) return;

      const icons = {
        success: 'âœ“',
        error: 'âœ•',
        warning: 'âš ',
        info: 'â„¹'
      };

      const messages = {
        success: 'Operation completed successfully!',
        error: 'An error occurred. Please try again.',
        warning: 'Warning: High latency detected.',
        info: 'Information: Syncing blockchain data...'
      };

      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.innerHTML = `
        <div class="toast-icon">${icons[type]}</div>
        <div class="toast-content">
          <div class="toast-message">${messages[type]}</div>
        </div>
        <button class="toast-close" onclick="this.parentElement.remove()">Ã—</button>
      `;

      container.appendChild(toast);

      // Auto-remove after 4 seconds
      setTimeout(() => {
        toast.remove();
      }, 4000);
    };

    console.log('%cðŸ§ª UX Features Test Page Loaded', 'font-size: 16px; color: #1ac6a2; font-weight: bold;');
    console.log('All features available for testing.');
    console.log('Press ? for keyboard shortcuts guide.');
  </script>
</body>
</html>
