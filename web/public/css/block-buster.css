@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Block-Buster Design System
 * Unified primitives using token-driven design
 * Spec: 8 base components, composition over variants
 */

@layer components {
  /* ===== PANEL (base container) ===== */
  .panel {
    @apply bg-panel-black/90 border border-gray-700/50 rounded-xl shadow-md;
    transition: all var(--dur-2) var(--ease);
  }
  
  .panel:hover {
    @apply border-gray-600/70 shadow-lg;
  }
  
  /* Panel variants */
  .panel--hero {
    @apply p-4 flex items-center justify-between;
  }
  
  .panel--metric {
    @apply p-4;
  }
  
  .panel--table {
    @apply p-0 overflow-hidden;
  }
  
  .panel--glass {
    @apply bg-gray-900/60 backdrop-blur-lg border-gray-700/30;
  }
  
  .panel--glow {
    box-shadow: var(--shadow-glow-amber);
    @apply border-amber-500/40;
  }
  
  /* Legacy aliases (backwards compat) */
  .panel-blade { @apply panel panel--hero; }
  .hologram-panel { @apply panel panel--glow; }
  .glass-panel { @apply panel panel--glass; }
  .metric-card { @apply panel panel--metric; }
  .kpi { @apply panel panel--metric; }
  .gate-card { @apply panel panel--metric; }

  /* ===== PILL (status indicator) ===== */
  .pill {
    @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs uppercase tracking-wide border font-semibold;
    transition: all var(--dur-2) var(--ease);
  }
  
  /* Pill semantic variants */
  .pill--good {
    @apply border-good/60 bg-good/10 text-good;
  }
  
  .pill--warn {
    @apply border-warn/60 bg-warn/10 text-yellow-400;
  }
  
  .pill--bad {
    @apply border-bad/60 bg-bad/10 text-red-400;
  }
  
  .pill--info {
    @apply border-info/60 bg-info/10 text-cyan-400;
  }
  
  .pill--neutral {
    @apply border-gray-500/60 bg-gray-500/10 text-gray-400;
  }
  
  /* Legacy status pill aliases */
  .status-pill { @apply pill; }
  .status-pill.status-good { @apply pill--good; }
  .status-pill.status-ok { @apply pill--good; }
  .status-pill.status-trade { @apply border-green-500/60 bg-green-500/10 text-green-400; }
  .status-pill.status-warn { @apply pill--warn; }
  .status-pill.status-bad { @apply pill--bad; }
  .status-pill.status-info { @apply pill--info; }
  .status-pill.status-rehearsal { @apply border-yellow-500/60 bg-yellow-500/10 text-yellow-400; }
  .status-pill.status-gated { @apply pill--neutral; }
  .status-pill.status-active { @apply pill--info; }

  /* ===== CHIP (medium informational badge) ===== */
  .chip {
    @apply inline-flex items-center gap-1 px-2 py-1 text-xs rounded bg-gray-800/60 text-gray-400 border border-gray-700/50;
  }
  
  .chip--accent {
    @apply bg-amber-500/10 text-amber-400 border-amber-500/30;
  }
  
  .chip--pill {
    @apply rounded-full px-3;
  }

  /* ===== BADGE (tiny metadata) ===== */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 text-xs text-gray-500 border border-gray-700/40 rounded;
  }
  
  /* Legacy micro-badge alias */
  .micro-badge { @apply badge; }

  /* ===== KPI (metric display) ===== */
  .kpi-label {
    @apply text-xs uppercase tracking-wider text-gray-500 font-semibold;
  }
  
  .kpi-value {
    @apply text-3xl font-bold text-white mt-2;
  }
  
  .kpi-meta {
    @apply text-sm text-gray-400 mt-1;
  }

  /* ===== SKELETON (loading state) ===== */
  .skeleton {
    @apply bg-gray-700/30 animate-pulse rounded;
  }
  
  .skeleton--text {
    @apply h-4 w-24;
  }
  
  .skeleton--heading {
    @apply h-6 w-32;
  }

  /* ===== TOAST (notifications) ===== */
  .toast {
    @apply fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg border animate-slide-up;
  }
  
  .toast--error {
    @apply bg-red-900/90 border-red-500/60 text-red-200;
  }
  
  .toast--success {
    @apply bg-green-900/90 border-green-500/60 text-green-200;
  }
  
  .toast--warning {
    @apply bg-yellow-900/90 border-yellow-500/60 text-yellow-200;
  }
  
  .toast--info {
    @apply bg-cyan-900/90 border-cyan-500/60 text-cyan-200;
  }
  
  /* Legacy toast aliases */
  .toast-error { @apply toast toast--error; }
  .toast-success { @apply toast toast--success; }
  .toast-warning { @apply toast toast--warning; }
  .toast-info { @apply toast toast--info; }

  /* ===== BUTTON (actions) ===== */
  .btn {
    @apply px-4 py-2 rounded-lg font-semibold cursor-pointer;
    transition: all var(--dur-2) var(--ease);
  }
  
  .btn--primary {
    @apply bg-amber-500 text-gray-900 hover:bg-amber-400;
  }
  
  .btn--secondary {
    @apply bg-gray-700 text-white hover:bg-gray-600;
  }
  
  .btn--ghost {
    @apply bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-800;
  }
  
  /* Legacy button aliases */
  .btn-primary { @apply btn btn--primary; }
  .btn-secondary { @apply btn btn--secondary; }
  .btn-ghost { @apply btn btn--ghost; }

  /* ===== DIVIDER ===== */
  .divider {
    @apply border-t border-gray-700/50 my-4;
  }

  /* ===== UTILITY COMPONENTS ===== */
  
  /* Progress bar */
  .progress-bar-container {
    @apply w-full bg-gray-700/30 rounded-full h-3 overflow-hidden;
  }
  
  .progress-bar {
    @apply h-3 rounded-full;
    transition: width var(--dur-4) var(--ease);
  }
  
  /* Empty state */
  .empty-state {
    @apply p-8 text-center text-gray-500;
  }
  
  .empty-state-icon {
    @apply text-4xl mb-3;
  }
  
  .empty-state-title {
    @apply text-sm font-semibold;
  }
  
  .empty-state-message {
    @apply text-xs mt-2 text-gray-600;
  }
  
  /* Loading spinner */
  .loading-spinner {
    @apply inline-block w-4 h-4 border-2 border-gray-600 border-t-amber-500 rounded-full animate-spin;
  }

  /* ===== TABLE COMPONENTS ===== */
  .table-container {
    @apply overflow-x-auto;
  }
  
  .table {
    @apply w-full text-sm;
  }
  
  .table thead {
    @apply border-b border-gray-700/50;
  }
  
  .table th {
    @apply px-4 py-3 text-left text-xs uppercase tracking-wider text-gray-500 font-semibold;
  }
  .table td {
    @apply px-4 py-3 text-gray-300;
  }
  
  .table tbody tr {
    @apply border-b border-gray-800/50;
    transition: background-color var(--dur-1) var(--ease);
  }
  
  .table tbody tr:hover {
    @apply bg-gray-800/30;
  }

  /* ===== FORM ELEMENTS ===== */
  .input {
    @apply bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white;
    @apply focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500;
    transition: all var(--dur-2) var(--ease);
  }
  
  .select {
    @apply bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white cursor-pointer;
    @apply focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500;
    transition: all var(--dur-2) var(--ease);
  }
  
  .label {
    @apply block text-sm font-semibold text-gray-400 mb-1;
  }

  /* ===== UTILITY CLASSES ===== */
  .text-gradient {
    @apply bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent;
  }
  
  .text-glow {
    text-shadow: 0 0 10px currentColor;
  }
  
  .border-glow {
    box-shadow: 0 0 10px currentColor;
  }
  
  .amber-glow {
    text-shadow: 0 0 10px rgb(var(--amber));
  }
  
  .cyan-glow {
    text-shadow: 0 0 10px rgb(var(--cyan));
  }
  
  /* Health details chevron animation */
  #health-chevron {
    transition: transform var(--dur-2) var(--ease);
  }
  
  /* Health details popover */
  #health-details[open] summary {
    @apply bg-amber-500/20;
  }
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideDown {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
